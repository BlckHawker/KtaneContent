<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Safety Safe — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .page-content * {
            box-sizing: border-box;
        }
        .dark table, table {
            border: none;
        }
        td, th {
            line-height: .9em;
            text-align: center;
            padding: .33em .12em 0;
            vertical-align: middle;
            min-width: 23.5px;
            height: 23.5px;
        }
        th {
            background: #eef;
            color: #000;
        }
        th.title-cell {
            background: #ddf;
        }
        .dark th {
            background: #667;
            color: #eee;
        }
        .dark th.title-cell {
            background: #557;
        }
        .modifier {
            line-height: 1.1em;
            text-align: center;
        }
        .sideways {
            vertical-align: middle !important;
        }
        .sideways > span {
            writing-mode: sideways-lr;
            line-height: 1.2em;
            width: 1em;
            /* line-height: 0.7em; */
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Safety Safe</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Safety Safe.svg" class="diagram">
                <h2>On the Subject of the Safety Safe</h2>
                <p class="flavour-text">This safe either contains immense riches, or is empty.</p>
                <ul>
                    <li>Each of the 6 dials on the module have a tell where they click louder. This is the starting position of each dial.</li>
                    <li>First, put all dials into their starting position.</li>
                    <li>Next, compute the modifier (formula below).</li>
                    <li>
                        Next, for the first five dials in reading order, use the dial’s position and corresponding character in the serial number (1st - 5th)
                        to get a number in one of the tables below. Add the modifier to each number (modulo 12), and move the corresponding dial that amount.
                    </li>
                    <li>
                        Finally, for the last dial, take <em>ALL</em> six characters in the serial number and look up them in the “Last” row.
                        Add the numbers (including duplicates) and the modifier together (modulo 12), and move the last dial that amount.
                    </li>
                    <li>Turn the lever to check the solution. Correct dials are lit green, and incorrect dials are lit red.</li>
                </ul>
                <div class="vstack gap1 alignc">
                    <span class="modifier">
                        <strong>modifier</strong> = (PORT_TYPES * 7 + M_LIT * 5 + M_UNLIT) % 12
                    </span>
                    <small class="modifier">
                        <strong>PORT_TYPES</strong> is the number of different port types on the bomb.<br>
                        <strong>M_LIT</strong> is the number of lit indicators with at least one letter in the serial number.<br>
                        <strong>M_UNLIT</strong> is the number of unlit indicators with at least one letter in the serial number.
                    </small>
                    <div class="hstack">
                        <table class="dials">
                            <tr>
                                <td class="corner" rowspan="2" colspan="2"></td>
                                <th class="title-cell" colspan="26">Character</th>
                            </tr>
                            <tr>
                                <th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th>
                                <th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th>
                            </tr>
                            <tr>
                                <th class="title-cell sideways" rowspan="6"><span>Dial Position</span></th>
                                <th>1st</th>
                                <td>8</td><td>10</td><td>2</td><td>11</td><td>0</td><td>4</td><td>7</td><td>8</td><td>0</td><td>2</td><td>5</td><td>1</td><td>1</td>
                                <td>9</td><td>5</td><td>3</td><td>4</td><td>8</td><td>9</td><td>7</td><td>11</td><td>11</td><td>6</td><td>4</td><td>10</td><td>3</td>
                            </tr>
                            <tr>
                                <th>2nd</th>
                                <td>3</td><td>1</td><td>1</td><td>6</td><td>5</td><td>2</td><td>4</td><td>3</td><td>11</td><td>11</td><td>2</td><td>9</td><td>7</td>
                                <td>5</td><td>9</td><td>10</td><td>10</td><td>0</td><td>4</td><td>6</td><td>9</td><td>11</td><td>0</td><td>2</td><td>7</td><td>7</td>
                            </tr>
                            <tr>
                                <th>3rd</th>
                                <td>4</td><td>3</td><td>1</td><td>11</td><td>5</td><td>7</td><td>4</td><td>6</td><td>0</td><td>8</td><td>5</td><td>8</td><td>9</td>
                                <td>1</td><td>8</td><td>9</td><td>6</td><td>4</td><td>0</td><td>7</td><td>6</td><td>2</td><td>11</td><td>7</td><td>10</td><td>1</td>
                            </tr>
                            <tr>
                                <th>4th</th>
                                <td>8</td><td>7</td><td>5</td><td>11</td><td>8</td><td>7</td><td>2</td><td>6</td><td>0</td><td>0</td><td>1</td><td>11</td><td>5</td>
                                <td>4</td><td>10</td><td>1</td><td>1</td><td>0</td><td>6</td><td>11</td><td>3</td><td>8</td><td>6</td><td>2</td><td>10</td><td>10</td>
                            </tr>
                            <tr>
                                <th>5th</th>
                                <td>9</td><td>3</td><td>3</td><td>7</td><td>2</td><td>1</td><td>10</td><td>6</td><td>9</td><td>5</td><td>0</td><td>11</td><td>6</td>
                                <td>4</td><td>2</td><td>9</td><td>4</td><td>6</td><td>3</td><td>5</td><td>11</td><td>1</td><td>11</td><td>8</td><td>8</td><td>0</td>
                            </tr>
                            <tr>
                                <th>Last</th>
                                <td>0</td><td>8</td><td>6</td><td>7</td><td>1</td><td>5</td><td>5</td><td>5</td><td>10</td><td>6</td><td>4</td><td>11</td><td>2</td>
                                <td>9</td><td>8</td><td>7</td><td>8</td><td>11</td><td>10</td><td>3</td><td>1</td><td>0</td><td>2</td><td>10</td><td>9</td><td>4</td>
                            </tr>
                        </table>
                    </div>
                    <div class="hstack">
                        <table class="dials">
                            <tr>
                                <td class="corner" rowspan="2" colspan="2"></td>
                                <th class="title-cell" colspan="10">Character</th>
                            </tr>
                            <tr>
                                <th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th>
                            </tr>
                            <tr>
                                <th class="title-cell sideways" rowspan="6"><span>Dial Position</span></th>
                                <th>1st</th>
                                <td>7</td><td>9</td><td>2</td><td>10</td><td>6</td><td>6</td><td>1</td><td>0</td><td>5</td><td>3</td>
                            </tr>
                            <tr>
                                <th>2nd</th>
                                <td>0</td><td>10</td><td>5</td><td>8</td><td>8</td><td>3</td><td>1</td><td>6</td><td>4</td><td>8</td>
                            </tr>
                            <tr>
                                <th>3rd</th>
                                <td>3</td><td>10</td><td>11</td><td>10</td><td>0</td><td>3</td><td>5</td><td>2</td><td>9</td><td>2</td>
                            </tr>
                            <tr>
                                <th>4th</th>
                                <td>5</td><td>9</td><td>7</td><td>4</td><td>3</td><td>3</td><td>2</td><td>4</td><td>9</td><td>9</td>
                            </tr>
                            <tr>
                                <th>5th</th>
                                <td>8</td><td>1</td><td>7</td><td>10</td><td>5</td><td>0</td><td>7</td><td>2</td><td>10</td><td>4</td>
                            </tr>
                            <tr>
                                <th>Last</th>
                                <td>6</td><td>2</td><td>3</td><td>4</td><td>0</td><td>11</td><td>3</td><td>1</td><td>7</td><td>9</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>
