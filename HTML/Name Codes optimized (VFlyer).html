<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Name Codes Optimized â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        function setDefaultRules(){
            setTable([
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon',
                'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen', 'Vertigo', 'Preset', 'Crypt'
            ]);
        }
        function setRules(rnd){
            let possibleWords = [
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon', 'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen',
                'Vertigo', 'Preset', 'Crypt', 'Royal', 'Index', 'Jewels', 'Bees', 'Barn', 'Foxes', 'Weasel', 'Queasy', 'Pencil', 'Winter', 'Jail', 'Yolk', 'Quota', 'Banjo', 'Coax',
                'Jazz', 'Files', 'Caged', 'Pistol', 'Champ', 'Globe', 'Baskets', 'Morgue', 'Gelatin', 'Quality', 'Array', 'Lean', 'Weary', 'Zealot', 'Jungles', 'Fence', 'Kindly',
                'Sunny', 'Species', 'Agile', 'Cram', 'Visit', 'Psychic', 'Vial', 'Route', 'Final', 'Bagel'
            ];
            let invalidSetup = false;
            do {
                rnd.shuffleFisherYates(possibleWords);
                let lengths = { 4:0, 5:0, 6:0, 7:0 };
                for (let i = 0; i < 21; i++){
                    lengths[possibleWords[i].length]++;
                }
                invalidSetup = lengths[7] > 2 ||
                               lengths[6] < 3 || lengths[6] > 5 ||
                               lengths[5] < 10 || lengths[5] > 15 ||
                               lengths[4] < 3 || lengths[4] > 5;
            } while (invalidSetup);
            setTable(possibleWords);
        }
        function setTable(arr){
            let cells = $("table.ruleseed td");
            for (let i = 0; i < 21; i++)
                cells[i].innerText = arr[i].toUpperCase();
        }
    </script>
    <style>
        table { margin: 1em auto;}
        .page.strip { --strip-color: #FC0; }
        .dark .black { background-color: #DDD; color: black; }
        .black { background-color: black; color: white; }
    </style>
</head>
<body>
    <div class='section'>
        <div class='page page-bg-01 strip'>
            <div class='page-header'>
                <span class='page-header-doc-title'>Keep Talking and Nobody Explodes Mod</span>
                <span class='page-header-section-title'>Name Codes</span>
            </div>
            <div class='page-content'>
                <img src='img/Component/Name Codes.svg' class='diagram'>
                <h2>On the Optimization of Name Codes</h2>
                <p class='flavour-text'>Just change your name. It should be that simple.</p>
                <p><a href="Name Codes.html">Original Manual</a></p>
                <p>Determine the 5 words concatenated by using the left and right arrows to navigate. This is referred to as the chosen string.</p>
                <p>
                    Pressing the left and right arrows will move the current position in the chosen string left or right by the <strong>left offset</strong> and
                    <strong>right offset</strong> respectively. Note that this may wrap around from the ends of the chosen string. These offsets will be one of the following: 2, 3, 4, or 5.
                </p>
                <table class="ruleseed">
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                </table>
                <div class="hstack">
                    <p>Use the <strong>left offset</strong> as the row and the <strong>right offset</strong> as the column to determine the last seconds digit of the countdown timer to press the center letter. <strong>Filled cells are offset combinations that will NEVER occur.</strong></p>
                    <table>
                        <tr><td><sub>L</sub><sup>R</sup></td><th>2</th><th>3</th><th>4</th><th>5</th></tr>
                        <tr><th>2</th><td class="black">6</td><td>7</td><td class="black">8</td><td>9</td></tr>
                        <tr><th>3</th><td>8</td><td class="black">9</td><td>0</td><td>1</td></tr>
                        <tr><th>4</th><td class="black">0</td><td>1</td><td class="black">2</td><td>3</td></tr>
                        <tr><th>5</th><td>2</td><td>3</td><td>4</td><td class="black">5</td></tr>
                    </table>
                </div>
                <div class="hstack gap2">
                <p>A combination of arrow presses exist such that the user will ALWAYS advance or retract exactly 1 letter after combining the offsets in their current location. A list of these cases can be found here. <strong>The user may not immediately know where they are in the chosen string, and may end up stepping towards another word.</strong></p>
                <table class="center-text">
                    <tr><th>Offsets</th><th colspan="2">&PlusMinus;1</th></tr>
                    <tr><th>2, 3</th><td>223</td><td>23</td></tr>
                    <tr><th>2, 5</th><td>2225</td><td>225</td></tr>
                    <tr><th>3, 4</th><td>33344</td><td>34</td></tr>
                    <tr><th>3, 5</th><td>335</td><td>33355</td></tr>
                    <tr><th>4, 5</th><td>4444555</td><td>45</td></tr>
                </table>
                </div>
            </div>
            <div class='page-footer relative-footer'>Page 1 of 1</div>
        </div>
    </div>
</body>
</html>