<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>反転マゼンタ暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .strip-change-one td,
        .strip-change-one th {
            padding: .3em .5em .2em;
        }
        .alpha {
            font-size: 13px;
        }
        .tablea {
            font-size: 14px;
        }
        .tableb {
            font-size: 20px;
            width: 100%;
        }
        h4 { text-align: center; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転マゼンタ暗号</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ultimate Cipher.svg" class="diagram">
                <h2>モジュール詳細：反転マゼンタ暗号</h2>
                <p class="flavour-text">マゼンタという色は存在しない。それは、緑の錐体細胞が非活性化かつ赤と青の錐体細胞が活性化していることを脳が知覚しようとしているのだ。この暗号は、あなたの想像力の単なる色素に過ぎない。</p>
                <p>このモジュールには3つのディスプレー、キーボード、2つの矢印、及び現在のページを表示する送信ボタンがある。</p>
                <p>このモジュールには1つのページしか存在しないため、いずれかの矢印を押すと押した文字のみが削除される。</p>
                <p>上部のディスプレーには6文字の暗号文、中央のディスプレーには数字、下部のディスプレーには3文字のキーが表示される。</p>
                <p>以下の暗号を使用し、単語を解読する。</p>
                 <h3>ステップ1:自動鍵暗号</h3>
                <p>上のディスプレーに表示された暗号化された単語と下のディスプレーのキーを使用する。キーの末尾に暗号化された単語の先頭三文字を追加してキーを調整する。</p>
                <p>暗号化された単語の最初の英字とキーの最初の英字を取得し、アルファベット上の位置を使用して数字に変換する。</p>
                <p>次に、2つの数字を足し合わせ、新しい数字をアルファベット上の位置を使用して英字に戻す。</p>
                <p>結果の数値が27以上の場合、数値が1~26の範囲になるまで26を加算する。</p>
                <p>結果の文字をキーの最後に書く。</p>
                <p>文字ごとにこれを繰り返し、新たな暗号化された単語を取得する。</p>
                <h4>例</h4>
                <p style="text-align:center">
                    暗号化単語：NYFNCM
                    下のディスプレー：OMP -> OMPNYF
                </p>
                <p style="text-align:center">
                    N, O -> 14 + 15 -> 29 - 26 -> 3 -> C<br>
                    Y, M -> 25 + 13 -> 38 - 26 -> 12 -> L<br>
                    F, P -> 6 + 16 -> 22 -> V<br>
                    N, N -> 14 + 14 -> 28 - 26 -> 2 -> B<br>
                    C, Y -> 3 + 25 -> 28 - 26 -> 2 -> B<br>
                    M, F -> 13 + 6 -> 19 -> S
                </p>
                <p style="text-align:center">
                新たな暗号化単語：CLVBBS
                </p>
                </div>
            <div class="page-footer relative-footer">ページ 1/3</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転マゼンタ暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ2:ミシュコフスキー転置</h3>
                <p>シリアルナンバーの英字を取得してキーを作成し、各文字にアルファベット順で番号を付ける。同点も含める。1はアルファベット順で最初に来るものである。</p>
                <p>次に、読み順にキーの列に収まるように暗号化された単語を配置する。</p>
                <p>数字の昇順で各文字を読む。キーに重複する番号がある場合、左から右、上から下に読む。これで、新しい暗号化された単語を取得できる。</p>
                <h4>例</h4>
                <p style="text-align:center">
                    暗号化単語：CLVBBS<br>
                    英字：LPWP
                </p>
                <table>
                <tr>
                    <td>L</td>
                    <td>P</td>
                    <td>W</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>C</td>
                    <td>L</td>
                    <td>V</td>
                    <td>B</td>
                </tr>
                <tr>
                    <td>B</td>
                    <td>S</td>
                    <td class='empty'></td>
                    <td class='empty'></td>
                </tr>
                </table>
                <p style="text-align:center">
                    新しい暗号化単語：CBLBSV
                </p>
            </div>
            <div class="page-footer relative-footer">ページ 2/3</div>
        </div>

        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転マゼンタ暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ3:アフィン暗号</h3>
                <p>暗号化された単語を次の式を使用して復号する：((C * E) + X) % 26</p>
                <p>Xはシリアルナンバーの数字の合計を25で割った余りに、1を加算したものである。Eは中央のディスプレーに表示される数字である。</p>
                <p>各文字をアルファベット上の位置を使用して数字に変換し、結果を変数Cに代入する。結果をアルファベット上の位置を使用して英字に戻す(注：Zは0と26の両方として扱える)。</p>
                <p>これで復号された単語が作成できる。</p>
                <h4>例</h4>
                <p style="text-align:center">
                    暗号化単語：CBLBSV<br>
                    中央の数字：21<br>
                    X: ((7 + 3) % 25) + 1 = 11
                </p>
                <p style="text-align:center">
                    C -> ((3 * 21) + 11) % 26 -> 22 -> V<br>
                    B -> ((2 * 21) + 11) % 26 -> 1 -> A<br>
                    L -> ((12 * 21) + 11) % 26 -> 3 -> C<br>
                    B -> ((2 * 21) + 11) % 26 -> 1 -> A<br>
                    S -> ((19 * 21) + 11) % 26 -> 20 -> T<br>
                    V -> ((22 * 21) + 11) % 26 -> 5 -> E<br>
                </p>
                <p style="text-align:center">
                    復号された単語：VACATE
                </p>
                <p>復号された単語を取得したら、それを送信する。入力を開始すると、全てのディスプレーが暗転し下のディスプレーに入力された文字が表示される。</p>

        <p>入力を消去するには、いずれかの矢印をクリックする。ページが移動し、入力した文字列が消去される。6文字を超える入力はできないようになっている。</p>

        <p>入力に問題がなければ、「SUB」と書かれたボタンを押して、回答を送信する。ミスが記録された場合、モジュールの最初のページに戻るが、暗号の再生成はされない。</p>
            </div>
            <div class="page-footer relative-footer">ページ 3/3</div>
        </div>
    </div>
</body>
</html>