<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Not Red Arrows — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        code { text-decoration: underline; font-weight: bold; }
        .ol-break { margin-bottom: 2em; }
        .page-footer::before { content: "Page "; }
        .page-footer::after { content: " of 3"; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Not Red Arrows</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Red Arrows.svg" class="diagram">
                <h2>On the Subject of Not Red Arrows</h2>
                <p class="flavour-text">What kinda module is this?! I’m not a human pseudo-code interpreter!!!</p>
                <div style="font-size: small;">
                    <p>On the screen is your <u>Starting Number</u>.</p>
                    <p>The Up and Down buttons will change the number by 1, while the Left and Right will change the number by 10.</p>
                    <p>Throughout the entire manual, keep track of:</p>
                    <ul>
                        <li>A numerical variable called <u>Key</u>, initially equal to your <u>Starting Number</u>,</li>
                        <li>A numerical variable called <u>Counter</u>, initially equal to 0,</li>
                        <li>A numerical variable called <u>Tick</u>, initially equal to 0,</li>
                        <li>A numerical variable called <u>Fin-Len</u>, initially equal to 0,</li>
                        <li>A numerical constant called <u>Last</u>, equal to the last digit of the bomb’s serial number,</li>
                        <li>A boolean variable (<code>TRUE</code>/<code>FALSE</code>) called <u>Trigger</u>, initially <code>TRUE</code>,</li>
                        <li>
                            A boolean variable (<code>TRUE</code>/<code>FALSE</code>) called <u>Prime</u>, initially <code>FALSE</code>,
                            <ul>
                                <li>and you may need to introduce new variables throughout the manual.</li>
                            </ul>
                        </li>
                    </ul>
                    <p>Note the following:</p>
                    <ul>
                        <li><strong>Constants</strong> are <strong>set once</strong> and are never changed again, while <strong>variables</strong> <strong>may be modified</strong> throughout the steps.</li>
                        <li>
                            <strong>Binary Length</strong> of a number is the length of the number’s binary representation (i.e. number of bits), excluding any leading zeros.
                            <ul><li>The <strong>Binary Length</strong> of 0 is 0.</li></ul>
                        </li>
                        <li>
                            Some edge cases with negative numbers:
                            <ul>
                                <li>Negative numbers are interpreted as positive when calculating their <strong>Binary Lengths</strong> and counting “1”s in their binary representations.</li>
                                <li>If a number N is negative, (N mod 10) is actually equal to -((-N) % 10). (e.g. -12 % 10 = -2)</li>
                                <li>If a number P is prime, then number -P is also considered prime.</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <p>Follow the numbered steps below, starting from 1, in ascending order, going straight to certain numbered steps when told.</p>
                <hr>
                <ol>
                    <li>
                        If <u>Key</u> is...:
                        <ul>
                            <li>
                                ...even, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - subtract <u>Last</u> from <u>Key</u>, and set <u>Trigger</u> equal to <code>FALSE</code>.</li>
                                    <li>...greater than <u>Last</u> - set <u>Key</u> equal to ((<u>Last</u> + 2) * 7).</li>
                                    <li>...less than <u>Last</u> - add <u>Last</u> to <u>Key</u>.</li>
                                </ul>
                            </li>
                            <li>
                                ...odd, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - multiply <u>Key</u> by 2, then take it modulo 100.</li>
                                    <li>...greater than <u>Last</u> - set <u>Key</u> equal to ((<u>Last</u> - 2) * 5), and set <u>Trigger</u> equal to <code>FALSE</code>.</li>
                                    <li>...less than <u>Last</u> - subtract <u>Key</u> from 50 and set it equal to the result.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ol>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Not Red Arrows</span>
            </div>
            <div class="page-content">
                <ol start="2">
                    <li>Add the number of “1”s in <u>Key</u>’s binary representation to <u>Counter</u></li>
                    <li>If <u>Tick</u> is equal to 3 - set <u>Fin-Len</u> equal to the <strong>Binary Length</strong> of <u>Key</u>, then go to step numbered 6.</li>
                    <li>
                        If the <strong>Binary Length</strong> of <u>Key</u> is...
                        <ul>
                            <li>...even, and <u>Trigger</u> is <code>TRUE</code> - multiply <u>Key</u> by (<strong>Binary Length</strong> of <u>Key</u> + 1),
                                and set <u>Trigger</u> equal to <code>FALSE</code>.</li>
                            <li>...even, and <u>Trigger</u> is <code>FALSE</code> - add (<strong>Binary Length</strong> of <u>Key</u>) to <u>Key</u>.</li>
                            <li>...odd, and <u>Trigger</u> is <code>TRUE</code> - add (<strong>Binary Length</strong> of <u>Key</u> * <u>Last</u>) to <u>Key</u>.</li>
                            <li>...odd, and <u>Trigger</u> is <code>FALSE</code> - add 1 to <u>Key</u>.</li>
                        </ul>
                    </li>
                    <li class="ol-break">Add 1 to <u>Tick</u>, then go back to step numbered 2.</li>
                    <li>Introduce a new numerical variable called <u>ATR</u>, initially equal to 0.</li>
                    <li>
                        If <u>Trigger</u> is...
                        <ul>
                            <li>
                                ...<code>TRUE</code> - set <u>ATR</u> equal to (<u>Fin-Len</u> * <u>Last</u> + 3),
                                and then add 1 to <u>Key</u>.
                            </li>
                            <li>
                                ...<code>FALSE</code> - set <u>ATR</u> equal to (<u>Counter</u> - <u>Last</u> + 4),
                                and then subtract 10 from <u>Key</u>.
                            </li>
                        </ul>
                    </li>
                    
                    <li>Introduce a new numerical constant called <u>X</u>, equal to (32 - <u>Counter</u>).</li>
                    <li>Introduce a new numerical variable called <u>i</u>, initially equal to 0.</li>
                    <li class="ol-break">If the <u>Starting Number</u> is less than <u>ATR</u> - add ((<u>ATR</u> + 1) * X) to <u>Key</u>, then immediately go to step numbered 15.</li>

                    <li>If <u>i</u> is equal to <u>X</u> - go to step numbered 15</li>
                    <li>If the <u>Starting Number</u> is a multiple of (<u>ATR</u> + <u>i</u>) - add ((<u>ATR</u> + i) * (X - i)) to <u>Key</u>, then go to step numbered 15.</li>
                    <li>Add (<u>ATR</u> + 1) to <u>Key</u>.</li>
                    <li class="ol-break">Add 1 to <u>i</u>, then go back to step numbered 11.</li>

                    <li>If <u>Key</u> is now a prime number - set <u>Prime</u> equal to <code>TRUE</code>.</li>
                    <li>Introduce two new numerical variables called <u>B</u> and <u>V</u>, both initially equal to 0.</li>
                    <li>
                        If <u>Prime</u> is...
                        <ul>
                            <li>...<code>TRUE</code> - set <u>B</u> equal to 2, and set <u>V</u> equal to (<u>Counter</u> mod (<u>Last</u> + 1) + 2).</li>
                            <li>...<code>FALSE</code> - set <u>B</u> equal to 1, and set <u>V</u> equal to (<u>X</u> mod (<u>Last</u> + 1) + 5).</li>
                        </ul>
                    </li>
                    <li>Set <u>i</u> equal to 0.</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Not Red Arrows</span>
            </div>
            <div class="page-content">
                <ol start="19">
                    <li>If <u>i</u> is equal to <u>V</u> - go to step numbered 23.</li>
                    <li>Add <u>i</u> to <u>B</u>.</li>
                    <li>
                        If <u>Prime</u> is...
                        <ul>
                            <li>...<code>TRUE</code>, add (<u>X</u> mod <u>B</u>) to <u>Key</u>.</li>
                            <li>...<code>FALSE</code>, add (<u>Counter</u> mod <u>B</u>) to <u>Key</u>.</li>
                        </ul>
                    </li>
                    <li class="ol-break">Add 1 to <u>i</u>, then go back to step numbered 19.</li>

                    <li>Introduce one last numerical variable called <u>Answer</u>, initially equal to 0.</li>
                    <li>
                        If <u>Trigger</u> and <u>Prime</u> are repsectively...
                        <ul>
                            <li>
                                <code>TRUE</code> and <code>TRUE</code>, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - set <u>Answer</u> equal to (<u>Key</u> - <u>Counter</u> + 11).</li>
                                    <li>...greater than <u>Last</u> - set <u>Answer</u> equal to (<u>Key</u> + 2).</li>
                                    <li>...less than <u>Last</u> - set <u>Answer</u> equal to (<u>Key</u> + 11).</li>
                                </ul>
                            </li>
                            <li>
                                <code>TRUE</code> and <code>FALSE</code>, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - set <u>Answer</u> equal to (11 * (<u>Key</u> - <u>Counter</u>)).</li>
                                    <li>...greater than <u>Last</u> - set <u>Answer</u> equal to (2 * <u>Key</u> - <u>Fin-Len</u>).</li>
                                    <li>...less than <u>Last</u> - set <u>Answer</u> equal to <u>Key</u>.</li>
                                </ul>
                            </li>
                            <li>
                                <code>FALSE</code> and <code>TRUE</code>, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - set <u>Answer</u> equal to (<u>Counter</u> + 11).</li>
                                    <li>...greater than <u>Last</u> - set <u>Answer</u> equal to (<u>Key</u> - 21).</li>
                                    <li>...less than <u>Last</u> - set <u>Answer</u> equal to (<u>Last</u> * 11).</li>
                                </ul>
                            </li>
                            <li>
                                <code>FALSE</code> and <code>FALSE</code>, and <u>Key</u>’s last digit is...:
                                <ul>
                                    <li>...equal to <u>Last</u> - set <u>Answer</u> equal to (<u>Key</u> - 11).</li>
                                    <li>...greater than <u>Last</u> - set <u>Answer</u> equal to (<u>X</u> + <u>Last</u>).</li>
                                    <li>...less than <u>Last</u> - set <u>Answer</u> equal to (<u>Counter</u> + 11).</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>Set <u>Answer</u> equal to its absolute value (i.e. if it is negative, multiply it by -1).</li>
                    <li>Take <u>Answer</u> modulo 100 - <u>Answer</u> is now the number you should submit into the module.</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
    </div>
</body>
</html>