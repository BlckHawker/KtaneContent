<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>反転紫色暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css"> 
    <script src="js/ktane-utils.js"></script>
    <style>
    .dark table, table {
        margin: 1em auto;
        border: none;
    }
    .strip-change-one td,
    .strip-change-one th {
        padding: .3em .5em .2em;
    }
    .alpha {
        font-size: 13px;
        font-family: "Special Elite";
    }
    .beta {
        font-size: 11px;
    }
    .tablea {
        font-size: 14px;

    }
    .tableb {
        font-size: 20px;
        width: 100%;
    }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転紫色暗号</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ultimate Cipher.svg" class="diagram">
                <h2>モジュール詳細：反転紫色暗号</h2>
                <p class="flavour-text">バラは赤い。スミレは青い。こんなジョーク前にも言ったっけ？まぁいいや、ここに暗号があるよ。</p>
                <p>モジュールは、3つのディスプレー、キーボード、2つの矢印、及び現在のページを表示するボタン(送信ボタン)で構成されている。</p>
                <p>右の矢印を押すと、次のページに移動できる。左の矢印を押すと前のページに移動できる。ページは全部で2ページある。</p>
                <p>ページ1には、上のディスプレーに6文字の暗号化された単語、真ん中のディスプレーに6文字のキーワード、下のディスプレーに2桁の数字が表示される。</p>
                <p>ページ2には、上のディスプレーに別のキーワードが表示される。</p>
                <p>以下のルールに従って単語を解読する。</p>
                <h3>ステップ1：クアグマイア暗号</h3>
                <p>ここでは、ステップ2で獲得した暗号化された単語、1ページ目の真ん中にある6文字のキーワード、2ページ目の上に表示された単語(4〜8文字)が必要になる。</p>
                <p>このステップでは、この暗号に必要な暗号鍵を作成することから始める。</p>
                <p>暗号鍵は7段の英字からなる。1段目は常に以下の配列になる。</p>
                <p class="centered"> ABCDEFGHIJKLMNOPQRSTUVWXYZ </p>
                 <p>上のディスプレーのキーワードを用いて作成するアルファキーが残りの6段になる。</p>
                <ul>
                    <li>重複する英字の2文字目以降を削除する。</li>
                    <li>アルファベット全体の文字列を取得し、キーワードに表示された英字を削除する。</li>
                    <li>キーワードの末尾にアルファベットの文字列を配置する。これがアルファキーとなる。</li>
                </ul>
                <p>アルファキーを1段目の真下に6回コピー&ペーストし、合計が7段になるようにする。</p>
                <p>最後に、左端の英字が真ん中のディスプレーの単語になるように、下6つの段をずらす。</p>
            </div>
            <div class="page-footer relative-footer">ページ 1/5</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転紫色暗号</span>
            </div>
            <div class="page-content">

                <h4 class="centered">例</h4>
                <p class="centered">
                    真ん中のディスプレーの単語：TRAVEL<br>
                    上のディスプレーの単語：RATE
                </p>
                <table class="alpha">
                    <tr><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th></tr>
                    <tr><th><em>T</em></th><th>E</th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>R</th><th>A</th></tr>
                    <tr><th><em>R</em></th><th>A</th><th>T</th><th>E</th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th></tr>
                    <tr><th><em>A</em></th><th>T</th><th>E</th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>R</th></tr>
                    <tr><th><em>V</em></th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>R</th><th>A</th><th>T</th><th>E</th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th></tr>
                    <tr><th><em>E</em></th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>R</th><th>A</th><th>T</th></tr>
                    <tr><th><em>L</em></th><th>M</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>S</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>R</th><th>A</th><th>T</th><th>E</th><th>B</th><th>C</th><th>D</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th></tr>
                </table>
                <p>暗号化された単語の各英字に対して、以下の手順に従う。</p>
                <ul>
                    <li>暗号化された単語の英字を1段目の中から探す(A-Zの段)。</li>
                    <li>その列の中にある、単語内の英字の位置と同じ段上の英字に置き換えることで、復号された英字が得られる(1段目は段としてカウントされない)。</li>
                </ul>
                <p>これで、新たな暗号化された単語が手に入る。</p>
                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された単語：WNUHPO<br>
                    復号処理は上の表を使用<br>
                </p>
                <p class="centered">
                    W => Y<br>
                    N => L<br>
                    U => V<br>
                    H => T<br>
                    P => Q<br>
                    O => A<br>
                    新たな暗号化された単語：YLVTQA
                </p>
            </div>
            <div class="page-footer relative-footer">ページ 2/5</div>
        </div>

        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転紫色暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ2：ルート転置</h3>
                <p>ここでは、ステップ1で獲得した暗号化された単語とページ1の下に表示された2桁の数字が必要になる。</p>
                <p>十の位は暗号のグリッドを定義し、一の位はグリッドの左上の数字を定義する。</p>
                <p>十の位が1の場合、上のグリッドを使用する。そうでない場合、下のグリッドを使用する。</p>
                <table>
                    <tr><th>#</th><th>#</th><th>#</th></tr>
                    <tr><th>#</th><th>#</th><th>#</th></tr>
                </table>
                <table>
                    <tr><th>#</th><th>#</th></tr>
                    <tr><th>#</th><th>#</th></tr>
                    <tr><th>#</th><th>#</th></tr>
                </table>
                <p>グリッドを、暗号化された単語の各文字で読み順に埋める。</p>
                <p>グリッドの左上のマスにディスプレー上の初期値の下一桁を割り当て、1になるまで数字を1ずつ減らしながら反時計回りに進む。</p>
                <p>最後に、先程到達したマスから時計回りに英字を読み、新たな暗号化された単語を取得する。</p>
                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された単語：YLVTQA<br>
                    数字：23
                </p>
                <table>
                    <tr><th>Y</th><th>L</th></tr>
                    <tr><th>V</th><th>T</th></tr>
                    <tr><th>Q*</th><th>A</th></tr>
                </table>
                <p class="centered">
                    YLVTQA => QVYLTA
                </p>
            </div>
            <div class="page-footer relative-footer">ページ 3/5</div>
        </div>

        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転紫色暗号</span>
            </div>
            <div class="page-content">

                <h3>ステップ3：ポルタ暗号</h3>
                <p>ここでは、ステップ2で獲得した暗号化された単語とページ1の真ん中に表示された6文字のキーワード、そして以下のチャートが必要になる。</p>
                <p>暗号化された単語の各英字に対して、以下の処理を行う。</p>
                <ul>
                    <li>キーワードの各英字を、以下のチャートの段に使用する。</li>
                    <li>暗号化された単語のその英字がAからMの間である場合、チャートの列にその英字を使用する。そして、段と列の交点が新たな暗号化された英字となる。</li>
                    <li>そうでない場合、キーワードの英字を同じ段から見つける。その英字の列からチャートのA-M段を参照して示された英字が新たな暗号化された英字となる。</li>
                </ul>
                <table>
                    <tr><th class='corner'></th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th></tr>
                    <tr><th>AB</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th></tr>
                    <tr><th>CD</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th></tr>
                    <tr><th>EF</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th></tr>
                    <tr><th>GH</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th></tr>
                    <tr><th>IJ</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th></tr>
                    <tr><th>KL</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th></tr>
                    <tr><th>MN</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th></tr>
                    <tr><th>OP</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th></tr>
                    <tr><th>QR</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th></tr>
                    <tr><th>ST</th><th>W</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th></tr>
                    <tr><th>UV</th><th>X</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th></tr>
                    <tr><th>WX</th><th>Y</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th></tr>
                    <tr><th>YZ</th><th>Z</th><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th></tr>
                </table>

                 <p>この結果が復号された単語になる。</p>
            </div>
            <div class="page-footer relative-footer">ページ 4/5</div>
        </div>

        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転紫色暗号</span>
            </div>
            <div class="page-content">

                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された単語：QVYLTA<br>
                    キーワード：TRAVEL
                </p>
                <p class="centered">
                    T + Q => H<br>
                    R + V => A<br>
                    A + Y => L<br>
                    V + L => V<br>
                    E + T => E<br>
                    L + A => S<br>
                    復号された単語：HALVES
                </p>
                 <p>復号された単語を取得したら、それを送信する。入力を開始すると、全てのディスプレーが暗転し下のディスプレーに入力された文字が表示される。</p>

                <p>入力を消去するには、いずれかの矢印をクリックする。ページが移動し、入力した文字列が消去される。6文字を超える入力はできないようになっている。</p>

                <p>入力に問題がなければ、「SUB」と書かれたボタンを押して、回答を送信する。ミスが記録された場合、モジュールの最初のページに戻るが、暗号の再生成はされない。</p>
            </div>
            <div class="page-footer relative-footer">ページ 5/5</div>
        </div>
    </div>
</body>
</html>