<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>グランドピアノ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .red { color: red; }
        .gray { color: gray; }

        .ref-image {
            margin-top: -0.8em;
            position: relative; 
            width: 95%;
        }

        .dark table, table {
            margin: 1em auto;
            border: none;
            text-align: center;
        }

        .origin-font {
            font-family: 'Special Elite', 'Noto Serif JP';
        }

        .page-footer::before { content: 'ページ '; }
        .page-footer::after { content: '/3'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">グランドピアノ</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Grand Piano.svg" class="diagram">
                <h2>モジュール詳細：グランドピアノ</h2>
                <p class="flavour-text">一体このグランドピアノで何をすればいいって言うんだ?<br>お前が教えてくれよ。</p>

                <div style="max-width:70%; float:left; margin-top:3em">
                    <p>このモジュールには、グランドピアノ一台が付いている。モジュールを解除するには、一連の音を演奏する必要がある。鍵盤と音の対応表については<i>ピアノの図</i>を参照。</p>
                    <p>モジュールには、使用するべき音のセット*が5つある。右の<i>操作方法</i>にモジュールの操作方法が記されている。セットに含む音は青い鍵盤で示される。</p>
                    <p>最初の4つのセットにおいて、4つの青い白鍵がプレイされたトランプのカードを表す。<i>カード対応表</i>を参照して、鍵盤から対応するカードに変換する。これらの4つのカードは未完成のポーカーの手を形成している。次に、青い黒鍵を使用する。<i>完成テーブル</i>を参照し、音をポーカーの役に変換する。カード4枚に対して、その役が完成する最後のカードを見つける。同じ操作を最初の4セットで行い、最後のカードを音に変換する。これらの音をセット1から順番に並べる。これが初期シーケンスの最初の4音である。</p>
                    <p>*5番目のセットには一つの黒鍵しか含まれていない。この黒鍵を使用し、ポーカーの役を見つける。今までに使用した最後のカード4枚に対して、その役が完成するカードを見つける。そして、そのカードを音に変換する。これが初期シーケンスの最後の音となり、初期シーケンスが完成する。</p>
                    <p>初期シーケンスの5音を求めた後、<i>完成完成テーブル</i>を参照し、シーケンスを改変して最終シーケンスを作成する。使用するセルは、初期シーケンスを完成させる時に参照した<i>完成テーブル</i>のセルと同じ位置である。</p>
                    <p>これらの音を順番に演奏することでモジュールは解除される。ミスが記録された場合、シーケンスは最初から入力しなおす。解答が変化することはない。</p>
                </div>
                
                <div style="max-width:25%; float:right">
                    <h3>操作方法</h3>
                    <p><b>スペースバー</b>を押すとモジュールが横方向へ、通常の7倍の大きさに拡大する。既に拡大している場合、元の大きさに戻る。これはモジュールを解除する上では必須<i>ではない</i>。</p>
                    <p>隣接するモジュールがこのモジュールの操作を妨害してしまう場合、<b>W</b>もしくは<b>S</b>キーを押すことで、モジュールを爆弾から離す、あるいは爆弾に近づけることができる。<b>R</b>キーでモジュールの位置をリセットできる。</p>
                    <p><b>1</b>、<b>2</b>、<b>3</b>、<b>4</b>、もしくは<b>5</b>キーを押すと、それぞれに対応するセットをピアノに表示する。それ以外の数字キーはピアノを初期状態に戻す。</p>
                </div>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">グランドピアノ</span>
            </div>
            <div class="page-content">
                <div style="max-width:40%; float:left; margin-top:3em">
                    <h3 class="centered">カード対応表</h3>
                    <table class="origin-font" style="font-size:20px">
                        <tr><td style="border-left:hidden; border-top:hidden"></td><td class="gray">♠</td><td class="red">♥</td><td class="gray">♣</td><td class="red">♦</td></tr>
                        <tr><td>A</td><td>A<sub>0</sub></td><td>G<sub>2</sub></td><td>F<sub>4</sub></td><td>E<sub>6</sub></td></tr>
                        <tr><td>2</td><td>G<sub>7</sub></td><td>C<sub>2</sub></td><td>B<sub>3</sub></td><td>A<sub>5</sub></td></tr>
                        <tr><td>3</td><td>C<sub>7</sub></td><td>F<sub>1</sub></td><td>E<sub>3</sub></td><td>D<sub>5</sub></td></tr>
                        <tr><td>4</td><td>F<sub>6</sub></td><td>B<sub>0</sub></td><td>A<sub>2</sub></td><td>G<sub>4</sub></td></tr>
                        <tr><td>5</td><td>B<sub>5</sub></td><td>A<sub>7</sub></td><td>D<sub>2</sub></td><td>C<sub>4</sub></td></tr>
                        <tr><td>6</td><td>E<sub>5</sub></td><td>D<sub>7</sub></td><td>G<sub>1</sub></td><td>F<sub>3</sub></td></tr>
                        <tr><td>7</td><td>A<sub>4</sub></td><td>G<sub>6</sub></td><td>C<sub>1</sub></td><td>B<sub>2</sub></td></tr>
                        <tr><td>8</td><td>D<sub>4</sub></td><td>C<sub>6</sub></td><td>B<sub>7</sub></td><td>E<sub>2</sub></td></tr>
                        <tr><td>9</td><td>G<sub>3</sub></td><td>F<sub>5</sub></td><td>E<sub>7</sub></td><td>A<sub>1</sub></td></tr>
                        <tr><td>10</td><td>C<sub>3</sub></td><td>B<sub>4</sub></td><td>A<sub>6</sub></td><td>D<sub>1</sub></td></tr>
                        <tr><td>J</td><td>F<sub>2</sub></td><td>E<sub>4</sub></td><td>D<sub>6</sub></td><td>C<sub>8</sub></td></tr>
                        <tr><td>Q</td><td>B<sub>1</sub></td><td>A<sub>3</sub></td><td>G<sub>5</sub></td><td>F<sub>7</sub></td></tr>
                        <tr><td>K</td><td>E<sub>1</sub></td><td>D<sub>3</sub></td><td>C<sub>5</sub></td><td>B<sub>6</sub></td></tr>
                    </table>
                    
                    <p style="text-align:center;"><i>完成完成コード</i>を参照して、初期シーケンスの改変の指示へ変換する。</p>
                </div>
                
                <div style="max-width:60%; float:right">
                    <h3 class="centered">完成テーブル</h3>
                    <table class="origin-font" style="font-size:14pt">
                        <tr><td>K<sub>0</sub></td><td style="border-top:hidden" colspan="4"></td><td>4K</td></tr>
                        <tr><td>K<sub>1</sub></td><td>2P(<span class="gray">♠</span>)</td><td>FH(<span class="red">♥</span>)</td><td>P(<span class="gray">♠</span>)</td><td>FH(<span class="red">♦</span>)</td><td>3K(<span class="gray">♣</span>)</td></tr>
                        <tr><td>K<sub>2</sub></td><td>F(2)</td><td>P(<span class="red">♦</span>)</td><td>F(3)</td><td>P(<span class="red">♥</span>)</td><td>F(4)</td></tr>
                        <tr><td>K<sub>3</sub></td><td>2P(<span class="red">♥</span>)</td><td>F(A)</td><td>P(<span class="gray">♣</span>)</td><td>F(J)</td><td>3K(<span class="red">♦</span>)</td></tr>
                        <tr><td>K<sub>4</sub></td><td>F(5)</td><td>RF</td><td>F(10)</td><td>SF</td><td>F(6)</td></tr>
                        <tr><td>K<sub>5</sub></td><td>2P(<span class="gray">♣</span>)</td><td>F(Q)</td><td>S(<span class="red">♦</span>)</td><td>F(K)</td><td>3K(<span class="gray">♠</span>)</td></tr>
                        <tr><td>K<sub>6</sub></td><td>F(7)</td><td>S(<span class="gray">♠</span>)</td><td>F(8)</td><td>S(<span class="gray">♣</span>)</td><td>F(9)</td></tr>
                        <tr><td>K<sub>7</sub></td><td>2P(<span class="red">♦</span>)</td><td>FH(<span class="gray">♣</span>)</td><td>S(<span class="red">♥</span>)</td><td>FH(<span class="gray">♠</span>)</td><td>3K(<span class="red">♥</span>)</td></tr>
                        <tr><td style="border-left:hidden; border-bottom:hidden"></td><td>C♯ D♭</td><td>D♯ E♭</td><td>F♯ G♭</td><td>G♯ A♭</td><td>A♯ B♭</td></tr>
                    </table>
                    
                    <p style="text-align:center;">略語については、<i>完成リスト</i>を参照する。スーツが存在する場合、そのスーツのカードを用いて指定の役を完成させる。</p>
                    
                    <h3 class="centered">完成完成テーブル</h3>
                    <table class="origin-font" style="font-size:12pt; white-space: nowrap;">
                        <tr><td>K<sub>0</sub></td><td style="border-top:hidden" colspan="4"></td><td>234 ♭</td></tr>
                        <tr><td>K<sub>1</sub></td><td>123 ♯♭</td><td>1..4 ♯♭</td><td>234 ♯♭</td><td>2..5 ♯♭</td><td>345 ♯♭</td></tr>
                        <tr><td>K<sub>2</sub></td><td>12 ♭</td><td>12 ♯♭</td><td>123 ♭</td><td>12 ♭♯</td><td>23 ♭</td></tr>
                        <tr><td>K<sub>3</sub></td><td>23 ♯♭</td><td>12 ♯</td><td>123 ♯</td><td>23 ♯</td><td>23 ♭♯</td></tr>
                        <tr><td>K<sub>4</sub></td><td>1..4 ♭</td><td>1..4 ♯</td><td>234 ♯</td><td>2..5 ♯</td><td>2..5 ♭</td></tr>
                        <tr><td>K<sub>5</sub></td><td>34 ♯♭</td><td>34 ♯</td><td>345 ♯</td><td>45 ♯</td><td>34 ♭♯</td></tr>
                        <tr><td>K<sub>6</sub></td><td>34 ♭</td><td>45 ♯♭</td><td>345 ♭</td><td>45 ♭♯</td><td>45 ♭</td></tr>
                        <tr><td>K<sub>7</sub></td><td>123 ♭♯</td><td>1..4 ♭♯</td><td>234 ♭♯</td><td>2..5 ♭♯</td><td>345 ♭♯</td></tr>
                        <tr><td style="border-left:hidden; border-bottom:hidden"></td><td>C♯ D♭</td><td>D♯ E♭</td><td>F♯ G♭</td><td>G♯ A♭</td><td>A♯ B♭</td></tr>
                    </table>
                </div>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">グランドピアノ</span>
            </div>
            <div class="page-content">
                <h3>完成リスト</h3>
                <ul>
                    <li>RF = ロイヤルフラッシュ - A、10、J、Q、Kの同じスーツのカード</li>
                    <li>SF = ストレートフラッシュ - 5つの連続したランクかつ同じスーツのカード</li>
                    <li>4K = フォーカード - 4つの同じランクのカード</li>
                    <li>FH = フルハウス - 3つの同じランクと2つの別の同じランクのカード</li>
                    <li>F = フラッシュ - 5つの同じスーツのカード</li>
                    <li>S = ストレート - 5つの連続したランクのカード</li>
                    <li>3K = スリーカード - 3つの同じランクのカード</li>
                    <li>2P = ツーペア - 2つの同じランクと2つの別の同じランクのカード</li>
                    <li>P = ワンペア - 2つの同じランクのカード<ul>
                        <li>ペアとなるカードはお互いのスーツが同じ色でなければならない</li></ul></li>
                </ul>
                
                <h3>完成完成コード</h3>
                <ul>
                    <li>数字はシーケンスの何番目の音を対象とするかを表す。
                        <ul><li>「1..4」は「1234」として扱う。</li>
                        <li>「2..5」は「2345」として扱う。</li></ul>
                    </li>
                    <li>記号は対象の音に追加するべき記号を表す。
                        <ul><li>この音が存在しない場合、記号は追加せず、音はそのままにする。</li>
                        <li>複数の記号が存在する場合、記号を交互に使用する。最も左の記号を最初に使用する。
                            <ul><li>前回の音がそのままの場合でも使用する記号をチェンジする。</li></ul>
                        </li></ul>
                    </li>
                </ul>

                <h3>ピアノの図</h3>
                <p>括弧はオクターブを表す。これはモジュール上にも表示されている。</p>
                <img src="img/Grand Piano/Reference.svg" class="ref-image">
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
    </div>
</body>
</html>