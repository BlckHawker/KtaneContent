<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ボールダイヤル — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark svg circle { stroke: #DDD; }
        .dark svg path { stroke: #DDD; }
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        
        .dark .hide, .hide {
            border-right: hidden;
        }
        
        .top {
            border-top: hidden;
        }
        
        .main {
            width: 100%;
        }
        
        table tr {
            height: 40px;
            text-align: center;
        }
        
        #cur {
            width: 24%;
        }     
    </style>
    <script>
        function setDefaultRules(rnd){
            var mainTable = document.getElementById("mainTable").children[0];
            var dirsRuleSeed1 = [
                ["下", "上", "下", "左"],
                ["左", "上", "右", "上"],
                ["右", "左", "上", "下"],
                ["左", "右", "下", "左"],
                ["上", "右", "左", "下"]
            ];
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 5; j++){
                    mainTable.children[i].children[j].innerHTML = "<b>"+dirsRuleSeed1[i - 2][j - 1]+"</b>";
                }
            }
        }
        function setRules(rnd){
            var mainTable = document.getElementById("mainTable").children[0];
            var directions = ["上","右","下","左"];
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 5; j++){
                    mainTable.children[i].children[j].innerHTML = "<b>"+directions[rnd.next(0,4)]+"</b>";
                }
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ボールダイヤル</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ball Dial.svg" class="diagram">
                <h2>モジュール詳細：ボールダイヤル</h2>
                <p class="flavour-text">このボールには一体何面あるんだ？</p>
                <ul>
                    <li>ボタンを使用してボールを回転させ、シリアルナンバーのいずれかの数字が表示されたら<svg width="17" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 90 90"><circle cx="45" cy="45" r="40" stroke="#000" stroke-width="4"/><circle cx="45" cy="45" r="24" stroke="#000" stroke-width="4"/><path stroke="#000" stroke-width="4" d="M45 15v60M15 45h60"/></svg>ボタンを押して解除する。</li>
                    <li>ボタンを押すと、ボールがボタンに向かって回転し、新しい要素のセットが表示される。</li>
                    <li>表を使用し、現在表示されている要素とボールが直前に回転した方向に基づき、ボールを回転させる方向を決定する。</li>
                    <li>ボールに<b>数字</b>が表示される場合、<br>特定の方向に数字分ボタンを押し、その間に表示される面を<b>すべて</b>無視する。<br>
                        0が表示された場合は1回押す必要がある。</li>
                    <li>ボールに<b>矢印</b>が表示されている場合、<br>矢印が指している方向を上として扱う。<br>
                        <span style="font-size: .75rem; margin-left:25px">(矢印の方向と逆方向に回すと下方向の回転となり、直前の回転方向は下となる)</span></li>
                    <li>ボールに<b>単語</b>が表示される場合、<br>
                        下の表の「直前の回転方向」の代わりに単語の方向を使用する。</li>
                    <li>まず最初にボールを<b>上</b>に回転する。<br></li>
                </ul><br>
                <h3>次の回転方向</h3>
                以下の表で取得した方向に、ボールを回転させる。
                <table id="mainTable">
                    <tr>
                        <td rowspan=2 id="cur">現在の表示</td>
                        <td colspan=4>直前の回転方向</td>
                    </tr>
                    <tr class="top">
                        <td class="hide">上(UP)</td>
                        <td class="hide">右(RIGHT)</td>
                        <td class="hide">下(DOWN)</td>
                        <td>左(LEFT)</td>
                    </tr>
                    <tr>
                        <td>矢印</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    <tr>
                        <td>数字</td>     
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    <tr>
                        <td>単語</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2つの要素</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>3つの要素</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">ページ 1/1</div>
        </div>
    </div>
</body></html>