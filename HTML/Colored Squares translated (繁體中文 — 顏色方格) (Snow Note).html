<!DOCTYPE html>
<html lang='zh-TW'>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>顏色方格 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-chinese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        let rules = [];

        function setRules(rnd)
        {
            let candidates = [ "藍", "列", "紅", "黃", "行", "綠", "洋紅" ];
            let rows = document.getElementsByClassName('rule-row');
            for (let i = 0; i < 15; i++)
            {
                if (i === 14)
                    candidates = [ "列", "行", "列", "行", "列", "行", "列" ];
                else
                    rnd.shuffleFisherYates(candidates);
                let tds = rows[i].getElementsByClassName('rule');
                for (let j = 0; j < tds.length; j++)
                    tds[j].innerText = candidates[j];
            }
            setLinks(`#${rnd.seed}`);
        }

        function setDefaultRules()
        {
            let list = document.getElementsByClassName('rule');
            for (let i = 0; i < list.length; i++)
                list[i].innerText = list[i].getAttribute('data-original');
            setLinks('');
        }

        function setLinks(hash)
        {
            document.querySelectorAll('.link > a').forEach(lnk => {
                lnk.setAttribute('href', /^(.*?)(#.*)?$/.exec(lnk.getAttribute('href'))[1] + hash);
            });
        }
    </script>
    <style>
        .colored-squares {
            font-size: 12pt;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">顏色方格</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Colored Squares (Japanese).svg">
                <h2>關於【顏色方格】模組 </h2>
                <p class="flavour-text">順序亂成一團，只要找到顏色的規律就能明白一切。</p>
                <p class="appendix-reference" id="appendix-reference">有關顏色方格模組系列的識別法請參照<a href="Appendix SQUARE translated (繁體中文 — 附錄SQUARE) (Snow Note).html">附錄SQUARE</a>。</p>

                <ul>
                    <li>按下全部正確類別的方格以進入下一階段。</li>
                    <li>按下的方格會發出白光，全部方格發出白光即可拆除模組。</li>
                    <li>開始時，按下數量最少的顏色類別，如出現數量相等的情況，則你看錯手冊了。請參照下頁的識別法。</li>
                    <li>然後，利用下表決定下階段應該按下的類別</li>
                    <li>所謂【類別】，就是某顏色的所有方格，或包含非白色方格的最左列/最上行的所有非白色方格</li>
                    <li>按下錯誤的方格會導致一次失誤，並重置模組。</li>
                    <li>已變成白色的方格會持續亮著白色，還沒變成白色的方格可能會改變顏色。</li>
                </ul>

                <table class="colored-squares">
                    <tr>
                        <th rowspan="2">目前白色方格的數目</th>
                        <th colspan="7" style="width:80%">上次按下的方格類別</th>
                    </tr>
                    <tr><th>紅</th><th>藍</th><th>綠</th><th>黃</th><th>洋紅</th><th>行</th><th>列</th></tr>
                    <tr class='rule-row'><th>1</th><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='洋紅'>洋紅</td></tr>
                    <tr class='rule-row'><th>2</th><td class='rule' data-original='行'>行</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='黃'>黃</td></tr>
                    <tr class='rule-row'><th>3</th><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='列'>列</td></tr>
                    <tr class='rule-row'><th>4</th><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='洋紅'>洋紅</td></tr>
                    <tr class='rule-row'><th>5</th><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='綠'>綠</td></tr>
                    <tr class='rule-row'><th>6</th><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='行'>行</td></tr>
                    <tr class='rule-row'><th>7</th><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='紅'>紅</td></tr>
                    <tr class='rule-row'><th>8</th><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='行'>行</td></tr>
                    <tr class='rule-row'><th>9</th><td class='rule' data-original='列'>列</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='藍'>藍</td></tr>
                    <tr class='rule-row'><th>10</th><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='黃'>黃</td></tr>
                    <tr class='rule-row'><th>11</th><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='藍'>藍</td></tr>
                    <tr class='rule-row'><th>12</th><td class='rule' data-original='列'>列</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='綠'>綠</td></tr>
                    <tr class='rule-row'><th>13</th><td class='rule' data-original='行'>行</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='紅'>紅</td></tr>
                    <tr class='rule-row'><th>14</th><td class='rule' data-original='紅'>紅</td><td class='rule' data-original='藍'>藍</td><td class='rule' data-original='洋紅'>洋紅</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='綠'>綠</td><td class='rule' data-original='黃'>黃</td><td class='rule' data-original='列'>列</td></tr>
                    <tr class='rule-row'><th>15</th><td class='rule' data-original='列'>列</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='列'>列</td><td class='rule' data-original='行'>行</td><td class='rule' data-original='列'>列</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">第 1 / 1 頁</div>
        </div>
    </div>
</body>
</html>