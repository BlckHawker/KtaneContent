<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>二進数正方形 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: .5em auto;
            border: none;
            text-align: center;
        }

        .page-footer::before { content: 'ページ '; }
        .page-footer::after { content: '/2'; }
        td { padding: .2em .6em 0; }
        .base-seven td {
            font-family: 'Base Seven Regular';
            font-size: 30px;
            padding: .5em .6em;
        }
        .red { color:#fff; background-color: #f00; }
        .red::after { content: 'R'; }
        .yel { color:#000; background-color: #ff0; }
        .yel::after { content: 'Y'; }
        .blue { color:#fff; background-color: #00f; }
        .blue::after { content: 'B'; }
        .mag { color:#000; background-color: #f0f; }
        .mag::after { content: 'M'; }
        .blk { color:#fff; background-color: #000; }
        .blk::after { content: 'K'; }
        .grn { color:#000; background-color: #0f0; }
        .grn::after { content: 'G'; }
        .wht { color:#000; background-color: #fff; }
        .wht::after { content: 'W'; }
        .cyan { color:#000; background-color: #0ff; }
        .cyan::after { content: 'C'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">二進数正方形</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Binary Squares.svg" class="diagram">
                <h2>モジュール詳細：二進数正方形</h2>
                <p class="flavour-text">これやったら二進数飽きるわ。</p>

                <p>このモジュールには16個の色付き正方形グリッドがある。最初はランダムに色付けされており、モジュールを解除するには、最終的な色の構成を特定する必要がある。可能な色は赤、青、緑、黄、マゼンタ、シアン、白、黒である。
                </p>
                <p>
                    フィルターを適用するには、まず現在のグリッドのピクセルの色と、それと同じ位置にあるフィルター上のピクセルの排他的論理和(XOR)を取得し、調整済みフィルターを取得する。次に、調整済みフィルター内の各色の演算子(付録A参照)を現在のグリッドの同じ位置にあるセルに対して適用する。
                </p>
                <p>
                    リストの最後まで到達するか、3つのルールに従うまで、以下のすべてのルールに従う。正しい条件ごとに、色付きグリッドをそれに応じて変更する。
                </p>
                <ol>
                    <li>白のピクセルが4つより多くある場合、フィルター1を適用する。</li>
                    <li>この時点において、左上のピクセルが黒、白、または青の場合、フィルター2を適用する。</li>
                    <li>この時点において、フィルター3を適用する。</li>
                    <li>この時点において、シリアルナンバーの数字の合計が奇数の場合、フィルター4を適用する。</li>
                    <li>この時点において、下2段よりも上2段の方が緑色の正方形の数が多い場合、フィルター5を適用する。</li>
                    <li>この時点において、フィルター6を適用する。</li>
                    <li>この時点において、シリアルナンバーにAからJまでの英字が含まれている場合、フィルター7を適用する。</li>
                    <li>この時点において、フィルター8を適用する。</li>
                </ol>

                <p>
                    各正方形を押すと色が変更される。回答を送信するには、グリッドの上にあるボタンを押す。間違いが4つ以下の場合、ミスは記録されない。モジュールは七進数を使用してどのマスが間違っているのかを表示する。数字は以下の通りである。
                </p>
                
                <table>
                    <tr><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
                    <tr class="base-seven"><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
                </table>

            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">二進数正方形</span>
            </div>
            <div class="page-content">
                <h4>付録A:色の演算子</h4>
                <table style="text-align:left">
                    <tr>
                        <td><b>赤:</b>XOR</td>
                        <td><b>青:</b>OR</td>
                        <td><b>緑:</b>XOR</td>
                    </tr>
                    <tr>
                        <td><b>マゼンタ:</b>XNOR</td>
                        <td><b>シアン:</b>AND</td>
                        <td><b>黄:</b>XNOR</td>
                    </tr>
                    <tr>
                        <td><b>白:</b>AND</td>
                        <td><b>黒:</b>OR</td>
                    </tr>
                </table>

                <h4>付録B:色を使用した論理演算</h4>
                <p>赤、緑、青の値は100％または0％のいずれかであるため、色は二進数で表すことができる。この二進数で論理演算を行うには、各ビットに演算子を使用して出力ビットを生成する。例えば、赤 XOR 黄の場合は100 XOR 110と表すことができ、これは010、つまり緑である。
                </p>
                <div class="hstack gap even">
                    <table>
                        <tr><th>A</th><th>B</th><th>A OR B</th></tr>
                        <tr><td>0</td><td>0</td><td>0</td></tr>
                        <tr><td>0</td><td>1</td><td>1</td></tr>
                        <tr><td>1</td><td>0</td><td>1</td></tr>
                        <tr><td>1</td><td>1</td><td>1</td></tr>
                    </table>
                    <table>
                        <tr><th>A</th><th>B</th><th>A AND B</th></tr>
                        <tr><td>0</td><td>0</td><td>0</td></tr>
                        <tr><td>0</td><td>1</td><td>0</td></tr>
                        <tr><td>1</td><td>0</td><td>0</td></tr>
                        <tr><td>1</td><td>1</td><td>1</td></tr>
                    </table>
                    <table>
                        <tr><th>A</th><th>B</th><th>A XOR B</th></tr>
                        <tr><td>0</td><td>0</td><td>0</td></tr>
                        <tr><td>0</td><td>1</td><td>1</td></tr>
                        <tr><td>1</td><td>0</td><td>1</td></tr>
                        <tr><td>1</td><td>1</td><td>0</td></tr>
                    </table>
                    <table>
                        <tr><th>A</th><th>B</th><th>A XNOR B</th></tr>
                        <tr><td>0</td><td>0</td><td>1</td></tr>
                        <tr><td>0</td><td>1</td><td>0</td></tr>
                        <tr><td>1</td><td>0</td><td>0</td></tr>
                        <tr><td>1</td><td>1</td><td>1</td></tr>
                    </table>
                </div>

                <!-- filter colors, html spaghetti -->
                <h4>付録C:フィルター</h4>
                <div class="hstack wrap gap2">
                    <div>
                    <table>
                        <caption>フィルター1</caption>
                        <tr><td class="red"></td><td class="cyan"></td><td class="blue"></td><td class="red"></td></tr>
                        <tr><td class="yel"></td><td class="red"></td><td class="grn"></td><td class="blue"></td></tr>
                        <tr><td class="grn"></td><td class="blk"></td><td class="red"></td><td class="grn"></td></tr>
                        <tr><td class="red"></td><td class="wht"></td><td class="mag"></td><td class="red"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター2</caption>
                        <tr><td class="yel"></td><td class="yel"></td><td class="wht"></td><td class="cyan"></td></tr>
                        <tr><td class="grn"></td><td class="blue"></td><td class="yel"></td><td class="cyan"></td></tr>
                        <tr><td class="blue"></td><td class="grn"></td><td class="wht"></td><td class="red"></td></tr>
                        <tr><td class="mag"></td><td class="mag"></td><td class="blue"></td><td class="red"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター3</caption>
                        <tr><td class="blk"></td><td class="blk"></td><td class="blk"></td><td class="wht"></td></tr>
                        <tr><td class="mag"></td><td class="mag"></td><td class="mag"></td><td class="mag"></td></tr>
                        <tr><td class="grn"></td><td class="grn"></td><td class="cyan"></td><td class="red"></td></tr>
                        <tr><td class="blue"></td><td class="mag"></td><td class="grn"></td><td class="red"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター4</caption>
                        <tr><td class="yel"></td><td class="cyan"></td><td class="yel"></td><td class="cyan"></td></tr>
                        <tr><td class="red"></td><td class="wht"></td><td class="red"></td><td class="wht"></td></tr>
                        <tr><td class="yel"></td><td class="cyan"></td><td class="yel"></td><td class="cyan"></td></tr>
                        <tr><td class="red"></td><td class="wht"></td><td class="red"></td><td class="wht"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター5</caption>
                        <tr><td class="blue"></td><td class="blue"></td><td class="blue"></td><td class="blue"></td></tr>
                        <tr><td class="blue"></td><td class="cyan"></td><td class="red"></td><td class="red"></td></tr>
                        <tr><td class="blk"></td><td class="yel"></td><td class="cyan"></td><td class="grn"></td></tr>
                        <tr><td class="wht"></td><td class="yel"></td><td class="blk"></td><td class="mag"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター6</caption>
                        <tr><td class="blue"></td><td class="yel"></td><td class="grn"></td><td class="red"></td></tr>
                        <tr><td class="wht"></td><td class="mag"></td><td class="mag"></td><td class="cyan"></td></tr>
                        <tr><td class="mag"></td><td class="blk"></td><td class="red"></td><td class="blue"></td></tr>
                        <tr><td class="blk"></td><td class="grn"></td><td class="blue"></td><td class="red"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター7</caption>
                        <tr><td class="mag"></td><td class="grn"></td><td class="grn"></td><td class="yel"></td></tr>
                        <tr><td class="blk"></td><td class="grn"></td><td class="grn"></td><td class="yel"></td></tr>
                        <tr><td class="blk"></td><td class="wht"></td><td class="mag"></td><td class="yel"></td></tr>
                        <tr><td class="red"></td><td class="wht"></td><td class="grn"></td><td class="cyan"></td></tr>
                    </table>
                    </div><div>
                    <table>
                        <caption>フィルター8</caption>
                        <tr><td class="red"></td><td class="blk"></td><td class="mag"></td><td class="mag"></td></tr>
                        <tr><td class="yel"></td><td class="blue"></td><td class="yel"></td><td class="grn"></td></tr>
                        <tr><td class="mag"></td><td class="yel"></td><td class="grn"></td><td class="blue"></td></tr>
                        <tr><td class="wht"></td><td class="red"></td><td class="grn"></td><td class="yel"></td></tr>
                    </table>
                    </div>
                </div>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
    </div>
</body>
</html>