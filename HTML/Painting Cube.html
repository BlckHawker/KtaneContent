<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Painting Cube — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }

        function setRules(rnd)
        {
            let cubes = document.querySelectorAll('.cube-box');
            for (let cube = 0; cube < 7; cube++)
            {
                let colors = [0, 1, 2, 3, 4, 5, 6];
                colors.splice(cube, 1);
                rnd.shuffleFisherYates(colors);
                let faces = cubes[cube].querySelectorAll('.face');
                for (let f = 0; f < 3; f++)
                {
                    for (let c = 0; c < 7; c++)
                        faces[f].classList.remove(`color-${c}`);
                    faces[f].classList.add(`color-${colors[f]}`);
                    faces[f].querySelector('.face-label').innerText = "ROYGBIV"[colors[f]];
                }
            }
        }
    </script>
    <style>
        .cubes {
			display: grid;
			place-items: center;
			margin: 0em;
        }

        .cube-row {
			margin-top: 0.7cm;
            margin-bottom: -0.7cm;
        }

        .cube-box {
            display: inline-block;
            position: relative;
            width: 2.7cm;
            height: 3.5cm;
        }

        .cube-rotation {
            transform: translate(-.15cm, -.15cm) rotate3d(1, 0, 0, -25deg) rotate3d(0, 1, 0, 45deg);
            perspective: 50cm;
            transform-style: preserve-3d;
            position: absolute;
            left: .5cm;
            top: .5cm;
            width: 2cm;
            height: 2cm;
        }

        .color-0	{ --color: #EE2621;	}
        .color-1	{ --color: #FF8326;	}
        .color-2	{ --color: #FBF50F;	}
        .color-3	{ --color: #00B24E;	}
        .color-4	{ --color: #9AD8EA;	}
        .color-5	{ --color: #4B3FCC;	}
        .color-6	{ --color: #A646A3;	}

        .cube-label {
            position: absolute;
            left: 50%;
            top: -1.25cm;
            font-size: 32pt;
            transform: translate(-50%, 0);
            color: var(--color);
        }

        .front	{ transform: translateZ(.9cm);	}
        .left	{ transform: rotateY(-90deg) translateZ(.9cm);	}
        .top	{ transform: rotateX(90deg) translateZ(.9cm);	}

        .face {
            position: absolute;
            left: 0;
            top: 0;
            width: 1.8cm;
            height: 1.8cm;
            border: .1cm solid black;
			background-color: #ddd;
            border-radius: .1cm;
            box-sizing: border-box;
        }
		
		.dark .face {
			border: .1cm solid white;
			background-color: #444;
		}

        .face-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -40%);
            font-size: 32pt;
            color: var(--color);
        }

        .page-content {
            position: relative;
        }

        .rainbowgradient {
            background-image: linear-gradient(90deg, red, orange, yellow, green, #07F, #007, #707);
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page.strip::before { background-image: linear-gradient(red, orange, yellow, green, #07F, #007, #707); }

        .yellow { color: rgb(185, 185, 0); }
        .dark .yellow { color: yellow; }

        @media screen and (width < 900px) {
            .cube-row {
                margin: 1.2cm -.5em -.35cm;
            }

            .cube-row:nth-child(2n) {
                padding-left: .55cm;
            }

            .cube-box {
                display: inline-block;
                width: 1.35cm;
                height: 1.35cm;
            }

            .cube-rotation {
                transform: translate(-.2cm, -.1cm) scale(.5) rotate3d(1, 0, 0, -25deg) rotate3d(0, 1, 0, 45deg);
                transform-origin: 0 0;
            }

            .cube-label {
                font-size: 24pt;
                top: -1cm;
            }
        }
    </style>
</head>

<body>
    <div class="section">
        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Painting Cube</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Painting Cube.svg">
                <h2>On the Subject of Painting Cubes</h2>

                <p class="flavour-text">They put colors in the water that turn the freaking cubes <span class="rainbowgradient">gay</span>!</p>

                <p>The module consists of a reset button on top, a 4×4 grid, and a cube randomly placed somewhere on the grid.</p>
                <p>The grid will have six unique colors placed somewhere on the grid, which can be <span style="color: red">Red</span>, <span style="color: orange">Orange</span>, <span class="yellow">Yellow</span>, <span style="color: green">Green</span>, <span style="color: #07F">Blue</span>, <span style="color: #007">Indigo</span>, and <span style="color: #707">Violet</span>.</p>
                <p>Using the color missing from the grid, determine the first three colors to be filled onto the corner of the cube below:</p>

                <div class='cubes'>
                    <div class='cube-row'>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-0'>R</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-1'>O</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-2'>Y</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-3'>G</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                    </div>
                    <div class='cube-row'>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-4'>B</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-5'>I</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                        <div class='cube-box highlightable'>
                            <div class='cube-label color-6'>V</div>
                            <div class='cube-rotation'>
                                <div class='face top'><div class='face-label'></div></div>
                                <div class='face left'><div class='face-label'></div></div>
                                <div class='face front'><div class='face-label'></div></div>
                            </div>
                        </div>
                    </div>
                </div>
                <p>Once the vertex is determined, press one of the cells orthogonally adjacent to the cube on the grid to move it to that direction. If the current face facing down is empty and the cell of the grid has a color on it or vice versa, that face will swap with the cell of the grid. However, if the current face facing down is colored and the cell on the grid isn’t empty, no change will be made.</p>
                <p>The module will solve if the arrangement of the colors around any vertex matches that of determined colors above and all faces are colored.</p>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>