<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>名前コード — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        function setDefaultRules(){
            setTable([
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon',
                'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen', 'Vertigo', 'Preset', 'Crypt'
            ]);
        }
        function setRules(rnd){
            let possibleWords = [
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon', 'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen',
                'Vertigo', 'Preset', 'Crypt', 'Royal', 'Index', 'Jewels', 'Bees', 'Barn', 'Foxes', 'Weasel', 'Queasy', 'Pencil', 'Winter', 'Jail', 'Yolk', 'Quota', 'Banjo', 'Coax',
                'Jazz', 'Files', 'Caged', 'Pistol', 'Champ', 'Globe', 'Baskets', 'Morgue', 'Gelatin', 'Quality', 'Array', 'Lean', 'Weary', 'Zealot', 'Jungles', 'Fence', 'Kindly',
                'Sunny', 'Species', 'Agile', 'Cram', 'Visit', 'Psychic', 'Vial', 'Route', 'Final', 'Bagel'
            ];
            let invalidSetup = false;
            do {
                rnd.shuffleFisherYates(possibleWords);
                let lengths = { 4:0, 5:0, 6:0, 7:0 };
                for (let i = 0; i < 21; i++){
                    lengths[possibleWords[i].length]++;
                }
                invalidSetup = lengths[7] > 2 ||
                               lengths[6] < 3 || lengths[6] > 5 ||
                               lengths[5] < 10 || lengths[5] > 15 ||
                               lengths[4] < 3 || lengths[4] > 5;
            } while (invalidSetup);
            setTable(possibleWords);
        }
        function setTable(arr){
            let cells = $("table td");
            for (let i = 0; i < 21; i++)
                cells[i].innerText = arr[i];
        }
    </script>
    <style>
        table { margin: 1em auto;}
        .page.strip { --strip-color: #FC0; }
    </style>
</head>
<body>
    <div class='section'>
        <div class='page page-bg-01 strip'>
            <div class='page-header'>
                <span class='page-header-doc-title'>Keep Talking and Nobody Explodes Mod</span>
                <span class='page-header-section-title'>Name Codes</span>
            </div>
            <div class='page-content'>
                <img src='img/Component/Name Codes.svg' class='diagram'>
                <h2>モジュール詳細：名前コード</h2>
                <p class='flavour-text'>ゲームの目的：名前を変更せよ。</p>

                <p>このモジュールには、一文字の英字が中央にあり、傾いた左右の矢印もある。中央のスクリーンには、現在位置にある<strong>候補文字列</strong>内の英字が表示される。</p>
                <p>候補文字列は以下の単語リストにある単語を五つ連結させることで構成されている。文字列はループする。</p>
                <p>
                    左右の矢印を押すと、候補文字列内の現在位置からそれぞれ<strong>左インデックス</strong>だけ左または<strong>右インデックス</strong>だけ右に移動する。 このインデックスは2以上5以下であり、互いに素となる。
                </p>
                <p>
                    モジュールを解除するには、左インデックスに二を掛けて右インデックスを足す。
                    カウントダウンタイマーの秒数の一の位がこの数字の最下位桁になった時に中央の英字を押す。
                </p>

                <table>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                </table>
            </div>
            <div class='page-footer relative-footer'>ページ 1/1</div>
        </div>
    </div>
</body>
</html>